
<div class="card text-center w-50 mx-auto">
  <div class="confirmation" *ngIf="!successfullySignup">
    <div class="card-header">
      アカウント情報
    </div>
    <div class="card-body">
      <div>
        <form [formGroup]="fmGroup" (ngSubmit)="onSubmit()">
          <div class="form-group text-left">
            <label>メールアドレス</label>
            <input type="email" class="form-control" placeholder="Enter email"
              formControlName="email" />
            <div *ngIf="email.invalid && (email.dirty || email.touched)"
              class="alert alert-danger">
              <div *ngIf="email.errors.required">
                この項目は必須です
              </div>
              <div *ngIf="email.errors.email">
                メールアドレスを入力して下さい
              </div>
            </div>
          </div>
          <div class="form-group text-left">
            <label>姓</label>
            <input type="text" class="form-control" placeholder="姓" formControlName="family_name" />
            <div *ngIf="family_name.invalid && (family_name.dirty || family_name.touched)"
                class="alert alert-danger">
                <div *ngIf="family_name.errors.required">
                  この項目は必須です
                </div>
            </div>
          </div>
          <div class="form-group text-left">
            <label>名</label>
            <input type="text" class="form-control" placeholder="名" formControlName="given_name" />
            <div *ngIf="given_name.invalid && (given_name.dirty || given_name.touched)"
                class="alert alert-danger">
                <div *ngIf="given_name.errors.required">
                  この項目は必須です
                </div>
            </div>
          </div>
          <div>
            <div class="alert alert-danger" role="alert">
              <div class="text-left"><b>メールアドレス変更時の注意点</b></div>
              <div class="text-left">新しいメールアドレスへ認証コードを送ります。
                受取り後、認証処理を実行下さい。
                もし認証コードを受取れなかった場合は、再度変更を実行下さい。
              </div>
            </div>
          </div>
          <div>
            パスワードの変更は、ログアウトして再設定して下さい。
          </div>
          <br/>
          <div>
            <button type="submit" class="btn btn-primary" [disabled]="fmGroup.invalid">変更</button>
          </div>
        </form>
      </div>
      <p class="mt-5" *ngIf="!successfullySignup">検証コードを入力する場合はこちら</p>
      <button (click)="successfullySignup = true" *ngIf="!successfullySignup" class="btn btn-secondary">検証コードで認証</button>
    </div>
  </div>
  <div class="confirmation" *ngIf="successfullySignup">
      <app-userinfo-confirm></app-userinfo-confirm>
      <button (click)="successfullySignup = false" class="btn btn-secondary">もどる</button>
  </div>
  <br/>
</div>

